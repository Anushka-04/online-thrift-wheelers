{% extends "base.html" %}
{% load static %}
{% block content %}

    <div class="site-section" style="background-image: url({%static 'images/new_bg4.jpg'%});">
      <div class="container" style="margin-top: 10px;">
          <form class="form-inline my-2 my-lg-0" method="GET" action="{% url 'vehicle:search' %}">
      <input class="form-control mr-sm-2" type="search" name="query" placeholder="Search" aria-label="Search">
      <button class="btn btn-primary my-2 my-sm-0" type="submit">Search</button>
    </form>
           <div class="row align-items-center justify-content-center" style="margin-bottom: 30px; margin-top: -70px;">
             <h3 style="color:#ffffff;">Car Ads</h3>
                </div>
        <div class="row">
        {% for car in cars %}
          <div class="col-lg-4 col-md-6 mb-4"  style="margin-top:30px;">
            <div class="row">
            <img class="img-profile rounded-circle" src="{{car.owner.profile.image.url}}"  style="height:30x; width:30px; margin-left: 20px; margin-bottom: 5px;"><h6> &nbsp;&nbsp;&nbsp;&nbsp;Ad by {{car.owner.username}}</h6></div>
            <div class="card shadow">
            <div class="item-1">
                <a href="#"><img src="{{car.image.url}}" alt="Image" class="img-fluid" style="width:350px; height:250px;"></a>
                <div class="item-1-contents"  style="width:350px;">
                  <div class="text-center">
                  <h3><a href="{% url 'vehicle:car-detail' car.id %}">{{car.name}}</a></h3>
                  
                  <div class="price">{{car.price}} lakhs</div> 
                  </div>
                  <ul class="specs">
                    <li>
                      <span>KM Driven</span>
                      <span class="spec">{{car.km_driven}}</span>
                    </li>
                    <li>
                      <span>Fuel Type</span>
                      <span class="spec">{{car.fuel_type}}</span>
                    </li>
                    <li>
                      <span>Transmission</span>
                      <span class="spec">{{car.transmission_type}}</span>
                    </li>
                    <li>
                      <span>Seller-type</span>
                      <span class="spec">{{car.seller_type}}</span>
                    </li>
                    <li>
                      <span>Owner</span>
                      <span class="spec">{{car.owner.username}}</span>
                    </li>
                    <li>
                      <span>Email</span>
                      <span class="spec">{{car.owner.email}}</span>
                    </li>
                    <li>
                      <span>Year</span>
                      <span class="spec">{{car.year_bought}}</span>
                    </li>
                  </ul>
                  <div class="row">
                  <div class="d-flex action">
                    <a href="/chat" class="btn btn-primary">Contact Owner</a>
                  </div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  <div class="d-flex action">
                    <a href="{% url 'vehicle:add-to-wishlist' car.id %}" class="btn btn-primary">Add to Wishlist</a>
                  </div>
                </div>
                </div>
              </div>
          </div>
        </div>
          {% endfor %}


           <div class="container" style="margin-left: 450px;">
         {% if is_paginated %}

      {% if page_obj.has_previous %}
        <a class="btn btn-outline-info mb-4" href="?page=1"><<</a>
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
      {% endif %}

      {% for num in page_obj.paginator.page_range %}
        {% if page_obj.number == num %}
          <a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
        {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
          <a class="btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
        {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">>></a>
      {% endif %}

    {% endif %}
        </div>
    </div>
  </div>
  </div>


    <div class="container site-section mb-5">
      <div class="row justify-content-center text-center">
        <div class="col-7 text-center mb-5">
          <h2>How it works</h2>
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nemo assumenda, dolorum necessitatibus eius earum voluptates sed!</p>
        </div>
      </div>
      <div class="how-it-works d-flex">
        <div class="step">
          <span class="number"><span>01</span></span>
          <span class="caption">Time &amp; Place</span>
        </div>
        <div class="step">
          <span class="number"><span>02</span></span>
          <span class="caption">Car</span>
        </div>
        <div class="step">
          <span class="number"><span>03</span></span>
          <span class="caption">Details</span>
        </div>
        <div class="step">
          <span class="number"><span>04</span></span>
          <span class="caption">Checkout</span>
        </div>
        <div class="step">
          <span class="number"><span>05</span></span>
          <span class="caption">Done</span>
        </div>

      </div>
    </div>


{% endblock %}

    
